<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hunter Meserve Group</title>
  <style>
    :root{
      --bg:#ffffff;
      --panel:#ffffff;
      --panel-2:#fafafa;
      --text:#1a1a1a;
      --text-dim:#666666;
      --accent:#888888;
      --row:#ffffff;
      --row-hover:#f5f5f5;
      --border:#e0e0e0;
      --shadow:0 6px 18px rgba(0,0,0,.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; background:var(--bg); color:var(--text); font:14px -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,Arial,system-ui,sans-serif;}

    .topbar{position:sticky; top:0; z-index:10; display:flex; gap:.75rem; align-items:center; padding:.6rem .9rem; background:var(--panel); border-bottom:1px solid var(--border)}
    .title{font-weight:600; letter-spacing:.2px;}
    .spacer{flex:1}
    .search{background:var(--panel); border:1px solid var(--border); border-radius:8px; padding:.45rem .7rem; color:var(--text); outline:none; min-width:220px}

    .wrap{display:grid; grid-template-columns: 340px 1fr; height:calc(100% - 49px)}
    .sidebar{border-right:1px solid var(--border); background:var(--panel-2); height:100%; overflow:auto}
    .content{position:relative}

    .list{padding:8px}
    .row{display:grid; grid-template-columns:42px 1fr; align-items:center; gap:.6rem; padding:.45rem .5rem; border-radius:8px; cursor:pointer; border:1px solid transparent}
    .row:hover{background:var(--row-hover); border-color:var(--border)}
    .thumb{width:34px; height:34px; border-radius:6px; background:#eee; overflow:hidden; display:grid; place-items:center}
    .thumb img{width:100%; height:100%; object-fit:cover}
    .name{color:var(--text); white-space:nowrap; overflow:hidden; text-overflow:ellipsis}

    .folder{margin:.3rem 0;}
    .folder-header{cursor:pointer; font-weight:600; padding:.35rem .4rem; border-radius:6px;}
    .folder-header:hover{background:var(--row-hover)}
    .folder-contents{margin-left:.7rem; display:none}
    .folder.open .folder-contents{display:block}

    .overlay{position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(255,255,255,.8); backdrop-filter:saturate(140%) blur(10px); z-index:50}
    .overlay.open{display:flex}
    .viewer{position:relative; max-width:92vw; max-height:92vh; border-radius:12px; box-shadow:var(--shadow)}
    .viewer img{display:block; max-width:92vw; max-height:92vh; border-radius:12px}
    .close, .nav{position:fixed; top:18px; width:38px; height:38px; border-radius:8px; display:grid; place-items:center; background:#fff; border:1px solid var(--border); cursor:pointer; box-shadow:var(--shadow)}
    .close{right:18px}
    .nav{top:50%; transform:translateY(-50%)}
    .prev{left:18px}
    .next{right:18px}
    .hint{position:fixed; bottom:14px; left:50%; transform:translateX(-50%); color:var(--text-dim); font-size:12px; background:#fff; padding:.35rem .6rem; border:1px solid var(--border); border-radius:6px; box-shadow:var(--shadow)}
    .counter{position:fixed; top:18px; left:18px; color:var(--text-dim); background:#fff; padding:.35rem .55rem; border:1px solid var(--border); border-radius:6px; box-shadow:var(--shadow)}
    .kbd{padding:.05rem .35rem; border:1px solid var(--border); border-radius:4px; background:#f6f6f6; margin:0 .15rem}
  </style>
</head>
<body>
  <div class="topbar">
    <div class="title"></div> 
    <span class="spacer"></span>
    <input id="search" class="search" placeholder="Filter by name‚Ä¶" />
  </div>

  <div class="wrap">
    <aside class="sidebar">
      <div id="list" class="list" aria-live="polite"></div>
    </aside>
    <main class="content"></main>
  </div>

  <div id="overlay" class="overlay" role="dialog" aria-modal="true" aria-label="Image preview">
    <div class="counter" id="counter"></div>
    <button class="nav prev" id="prevBtn" aria-label="Previous">‚óÄ</button>
    <div class="viewer"><img id="big" alt="Preview" /></div>
    <button class="nav next" id="nextBtn" aria-label="Next">‚ñ∂</button>
    <button class="close" id="closeBtn" aria-label="Close">‚úï</button>
    <div class="hint">Use <span class="kbd">‚Üê</span><span class="kbd">‚Üí</span> to navigate ‚Ä¢ <span class="kbd">Esc</span> to close</div>
  </div>

  <script>
    const $ = sel => document.querySelector(sel);
    const listEl = $('#list');
    const overlay = $('#overlay');
    const big = $('#big');
    const counter = $('#counter');
    const search = $('#search');

    let data = [
      {type:'folder', name:'Carlotta S.', children:[ 
        {type:'image', name:"Carlottas._Logo-01.jpg", url:"CarlottaS./Carlottas._Logo-01.jpg"},
        {type:'image', name:"Carlottas._Logo-02.jpg", url:"CarlottaS./Carlottas._Logo-02.jpg"},
        {type:'image', name:"Carlottas._Logo-03.jpg", url:"CarlottaS./Carlottas._Logo-03.jpg"},
        {type:'image', name:"Carlottas._Postcard2025-01.jpg", url:"CarlottaS./Carlottas._Postcard2025-01.jpg"},
        {type:'image', name:"Carlottas._Postcard2025-02.jpg", url:"CarlottaS./Carlottas._Postcard2025-02.jpg"},
        {type:'image', name:"Carlottas._Postcard2025-03.jpg", url:"CarlottaS./Carlottas._Postcard2025-03.jpg"},
        {type:'image', name:"Carlottas._Postcard2025-04.jpg", url:"CarlottaS./Carlottas._Postcard2025-04.jpg"},
        {type:'image', name:"Carlottas._Postcard2025-05.jpg", url:"CarlottaS./Carlottas._Postcard2025-05.jpg"},
        {type:'image', name:"Carlottas._Postcard2025-06.jpg", url:"CarlottaS./Carlottas._Postcard2025-06.jpg"},
        {type:'image', name:"Carlottas._Postcard2025-07.jpg", url:"CarlottaS./Carlottas._Postcard2025-07.jpg"},
        {type:'image', name:"Carlottas._Postcard2025-08.jpg", url:"CarlottaS./Carlottas._Postcard2025-08.jpg"},
        {type:'image', name:"Carlottas._Postcard2025-09.jpg", url:"CarlottaS./Carlottas._Postcard2025-09.jpg"},
      ]},

      {type:'folder', name:'Joan Horrach Vidal', children:[
        {type:'image', name:"Joan1.jpg", url:"JoanHorrachVidal/Joan1.jpg"},
        {type:'image', name:"Joan2.jpg", url:"JoanHorrachVidal/Joan2.jpg"},
        {type:'image', name:"Joan3.jpg", url:"JoanHorrachVidal/Joan3.jpg"},
        {type:'image', name:"Joan4.jpg", url:"JoanHorrachVidal/Joan4.jpg"},
        {type:'image', name:"Joan5.jpg", url:"JoanHorrachVidal/Joan5.jpg"},
        {type:'image', name:"Joan6.jpg", url:"JoanHorrachVidal/Joan6.jpg"},
      ]},

       {type:'folder', name:'notesfromthegroves', children:[
        {type:'image', name:"noteswebsite1.jpg", url:"notesfromthegroves/noteswebsite1.jpg"},
        {type:'image', name:"noteswebsite2.jpg", url:"notesfromthegroves/noteswebsite2.jpg"},
      ]},

       {type:'folder', name:'Spike Art Magazine', children:[
        {type:'image', name:"Honor1.jpg", url:"Spike/Honor1.jpg"},
        {type:'image', name:"Honor2.jpg", url:"Spike/Honor2.jpg"},
      ]},

       {type:'folder', name:'Goomheo', children:[
        {type:'image', name:"Goomheo.jpg", url:"Goomheo/Goomheo.jpg"},
      ]},

      {type:'folder', name:'Editorial, Alex wears No Fear and Prada, Los Angeles 2025, styled by Joe Share', children:[
        {type:'image', name:"Editorial1.jpg", url:"Editorial/Editorial1.jpg"},
        {type:'image', name:"Editorial2.jpg", url:"Editorial/Editorial2.jpg"},
        {type:'image', name:"Editorial3.jpg", url:"Editorial/Editorial3.jpg"},
        {type:'image', name:"Editorial4.jpg", url:"Editorial/Editorial4.jpg"},
        {type:'image', name:"Editorial5.jpg", url:"Editorial/Editorial5.jpg"},
        {type:'image', name:"Editorial6.jpg", url:"Editorial/Editorial6.jpg"},
      ]},

      {type:'folder', name:'Doc Martens', children:[
        {type:'image', name:"Doc2.jpg", url:"Drmartens/Doc2.jpg"},
        {type:'image', name:"Doc3.jpg", url:"Drmartens/Doc3.jpg"},
        {type:'image', name:"Doc4.jpg", url:"Drmartens/Doc4.jpg"},
        {type:'image', name:"Doc5.jpg", url:"Drmartens/Doc5.jpg"},
        {type:'image', name:"Doc6.jpg", url:"Drmartens/Doc6.jpg"},
        {type:'image', name:"Doc7.jpg", url:"Drmartens/Doc7.jpg"},
        {type:'image', name:"Doc8.jpg", url:"Drmartens/Doc8.jpg"},
        
        
      ]},

      {type:'folder', name:'Nettspend in Los Angeles, for Dazed 2025', children:[
        {type:'image', name:"Nett.jpg", url:"Nett/Nett.jpg"},
        {type:'image', name:"Nett2.jpg", url:"Nett/Nett2.jpg"},
      ]},

      // Loose images outside folders
      {type:'image', name:"radiomaria-allineed.jpeg", url:"radiomaria-allineed.jpeg"},
      {type:'image', name:"hunter.jpg", url:"hunter.jpg"},

    ];

    let flatItems = []; // all images flattened
    let filtered = [];
    let current = -1;

    function buildFlat(){
      flatItems = [];
      function walk(items){
        items.forEach(it=>{
          if(it.type==='image') flatItems.push(it);
          if(it.type==='folder') walk(it.children);
        });
      }
      walk(data);
    }

    function renderList(){
      const q = (search.value||'').toLowerCase().trim();
      listEl.innerHTML = '';

      function renderItems(items, container){
        items.forEach(it=>{
          if(it.type==='image'){
            if(q && !it.name.toLowerCase().includes(q)) return;
            const row = document.createElement('div');
            row.className = 'row';
            row.innerHTML = `<div class="thumb"><img alt="" src="${it.url}"></div><div class="name" title="${it.name}">${it.name}</div>`;
            row.addEventListener('click',()=> {
              const idx = filtered.indexOf(it); // FIX: use filtered index
              openViewer(idx);
            });
            container.appendChild(row);
          } else if(it.type==='folder'){
            const folder = document.createElement('div');
            folder.className = 'folder';
            folder.innerHTML = `<div class="folder-header">üìÇ ${it.name}</div>`;
            const contents = document.createElement('div');
            contents.className = 'folder-contents';

            renderItems(it.children, contents);

            if(contents.children.length > 0){
              folder.appendChild(contents);
              if(q) folder.classList.add('open');
              folder.querySelector('.folder-header').addEventListener('click',()=>{
                folder.classList.toggle('open');
              });
              container.appendChild(folder);
            }
          }
        });
      }

      renderItems(data, listEl);

      filtered = [];
      function collectFiltered(items){
        items.forEach(it=>{
          if(it.type==='image'){
            if(!q || it.name.toLowerCase().includes(q)) filtered.push(it);
          } else if(it.type==='folder'){
            collectFiltered(it.children);
          }
        });
      }
      collectFiltered(data);

      if(!filtered.length){
        listEl.innerHTML = '<div style="opacity:.6;padding:.75rem;">No images found.</div>';
      }
    }

    function openViewer(idx){
      if(filtered.length===0) return;
      current = idx;
      const it = filtered[current];
      big.src = it.url;
      big.alt = it.name;
      counter.textContent = `${current+1} / ${filtered.length}`;
      overlay.classList.add('open');
    }
    function closeViewer(){ overlay.classList.remove('open'); current=-1; }
    function next(delta){
      if(filtered.length===0) return;
      current = (current + delta + filtered.length) % filtered.length;
      const it = filtered[current];
      big.src = it.url; big.alt = it.name;
      counter.textContent = `${current+1} / ${filtered.length}`;
    }

    $('#prevBtn').onclick = ()=> next(-1);
    $('#nextBtn').onclick = ()=> next(+1);
    $('#closeBtn').onclick = closeViewer;
    overlay.addEventListener('click', e=>{ if(e.target===overlay) closeViewer(); });
    document.addEventListener('keydown', e=>{
      if(!overlay.classList.contains('open')) return;
      if(e.key==='Escape') closeViewer();
      if(e.key==='ArrowRight') next(+1);
      if(e.key==='ArrowLeft') next(-1);
    });

    search.addEventListener('input', renderList);

    buildFlat();
    renderList();
  </script>
</body>
</html>
